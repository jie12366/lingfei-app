(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-competition-apply"],{"0b2a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6"),i("ac6a"),i("7f7f");var n=i("bbe7"),r={name:"BjxFormItem",props:{label:{type:String,default:""},prop:{type:String,default:""},width:{type:String,default:"auto"},labelWidth:{type:String,default:""},labelType:{type:String,default:""},align:{type:String,default:""},labelRight:{type:String,default:""},required:{type:Boolean,default:!1},verticalAlign:{type:String,default:"center"}},data:function(){return{formField:["labelType","labelWidth","align","msgType","form","rules"],msg:""}},computed:{theRequired:function(){return!!(this.required||this.theForm.rules&&this.theForm.rules[this.prop]&&this.theForm.rules[this.prop].required)},theForm:function(){var t=this.$parent,e=t.$options.name;while(null!==e&&"BjxForm"!==e)t=t?t.$parent:null,e=t?t.$options.name:null;var i={};return t&&this.formField.forEach(function(e){i[e]=t[e]}),i},theWidth:function(){return isNaN(Number(this.width))?this.width:this.width+"rpx"},theLabelWidth:function(){var t="auto";return this.$slots.label||(t=this.labelWidth||this.theForm.labelWidth,isNaN(Number(t))||(t+="rpx")),t},theLabelType:function(){var t=this.labelType||this.theForm.labelType;return t},theLabelStyle:function(){var t="block"!=this.theLabelType?this.theLabelWidth:"auto",e={left:"flex-start",right:"flex-end",center:"center",between:"space-between"},i=this.align||this.theForm.align;return"width: ".concat(t,"; justify-content: ").concat(e[i],"; vertical-align: ").concat(this.verticalAlign,";")},theVerticalAlign:function(){var t={top:"flex-start",bottom:"flex-end",center:"center"};return t[this.verticalAlign]},value:function(){var t=this.theForm.form,e=t?t[this.prop]:"";return e}},methods:{validate:function(){if(this.theForm.rules){var t=this.theForm.rules[this.prop];if(this.msg="",t)if(!t.required||null!=this.value&&""!=this.value){if(t.validator){var e=t.validator(this.value,t);"string"==typeof e?this.msg=e:e||(this.msg=t.message||this.label+"不符合规则")}else if(t.rule&&null!=this.value&&""!=this.value){var i=(0,n.fromCheck)(this.value,t.rule,this.theForm.form);!0!==i&&(this.msg=t.message||this.label+i)}}else this.msg=t.msg||this.label+"不能为空";return""!=this.msg&&("out"==this.theForm.msgType?uni.showModal({content:this.msg}):"msg"==this.theForm.msgType&&uni.showToast({icon:"none",title:this.msg})),!this.msg}}}};e.default=r},1918:function(t,e,i){"use strict";i.r(e);var n=i("0b2a"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=r.a},3624:function(t,e,i){"use strict";i.r(e);var n=i("6ca5"),r=i("1918");for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);i("868a");var l=i("2877"),o=Object(l["a"])(r["default"],n["a"],n["b"],!1,null,"12847897",null);e["default"]=o.exports},"3b59":function(t,e,i){"use strict";i.r(e);var n=i("47ea"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=r.a},"47ea":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("7f7f"),i("ac6a");var n={name:"BjxForm",props:{form:{type:Object,default:function(){return{}}},rules:{type:Object,default:function(){return{}}},msgType:{type:String,default:"out"},labelType:{type:String,default:"block"},labelWidth:{type:String,default:"auto"},align:{type:String,default:"left"},reportSubmit:{type:Boolean,default:!1},submit:Function,reset:Function},methods:{formSubmit:function(t){this.$emit("submit",t)},formReset:function(t){this.$emit("reset",t)},validate:function(t){for(var e=!0,i=this.getItem(this.$children),n=0;n<i.length;++n){var r=!i[n].validate||i[n].validate();if(e&&!r&&(e=!1),"in"!=this.msgType&&!r)break}t&&t(e)},getItem:function(t,e){var i=this;return e=e||[],t.forEach(function(t){t.$options.name&&"BjxFormItem"===t.$options.name||t.$options._componentTag&&"bjx-form-item"===t.$options._componentTag?e.push(t):t.$children.length&&(e=i.getItem(t.$children,e))}),e}}};e.default=n},"688e":function(t,e,i){"use strict";i.r(e);var n=i("770c"),r=i("3b59");for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);var l=i("2877"),o=Object(l["a"])(r["default"],n["a"],n["b"],!1,null,"175fe1f5",null);e["default"]=o.exports},"6ca5":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"bjx-form-item",style:{width:t.theWidth}},[i("v-uni-view",{class:"label-"+t.theLabelType,style:{alignItems:t.theVerticalAlign}},[i("v-uni-view",{staticClass:"item-label",style:t.theLabelStyle},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.theRequired,expression:"theRequired"}],staticClass:"item-required"},[t._v("*")]),i("v-uni-view",{staticClass:"label-con"},[t._t("label",[i("v-uni-text",{staticClass:"label-text"},[t._v(t._s(t.label))]),"block"==t.theLabelType&&t.labelRight?i("v-uni-text",{staticClass:"right"},[t._v(t._s(t.labelRight))]):t._e()])],2)],1),i("v-uni-view",{staticClass:"item-con"},[t._t("default")],2)],1),"in"==t.theForm.msgType?i("v-uni-view",{staticClass:"item-msg"},[t._v(t._s(t.msg))]):t._e()],1)},r=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})},"770c":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-form",{attrs:{"report-submit":t.reportSubmit},on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)},reset:function(e){e=t.$handleEvent(e),t.formReset(e)}}},[t._t("default")],2)],1)},r=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})},8584:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("bjx-form",{ref:"form",attrs:{labelType:"inline",rules:t.rules,labelWidth:"100",form:t.form}},[i("v-uni-view",[i("bjx-form-item",{attrs:{label:"姓名","label-right":"right",prop:"name"}},[i("v-uni-input",{staticClass:"input",attrs:{name:"input",placeholder:"姓名",type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),i("v-uni-view",[i("bjx-form-item",{attrs:{label:"班级","label-right":"right",prop:"stuClass"}},[i("v-uni-input",{staticClass:"input",attrs:{name:"input",placeholder:"班级",type:"text"},model:{value:t.form.stuClass,callback:function(e){t.$set(t.form,"stuClass",e)},expression:"form.stuClass"}})],1)],1),i("v-uni-view",[i("bjx-form-item",{attrs:{label:"学号","label-right":"right",prop:"number"}},[i("v-uni-input",{staticClass:"input",attrs:{name:"input",placeholder:"学号",type:"number"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1)],1),i("v-uni-view",[i("bjx-form-item",{attrs:{label:"QQ","label-right":"right",prop:"qq"}},[i("v-uni-input",{staticClass:"input",attrs:{name:"input",placeholder:"QQ",type:"number"},model:{value:t.form.qq,callback:function(e){t.$set(t.form,"qq",e)},expression:"form.qq"}})],1)],1),i("v-uni-view",[i("bjx-form-item",{attrs:{label:"电话","label-right":"right",prop:"phone"}},[i("v-uni-input",{staticClass:"input",attrs:{name:"input",placeholder:"电话",type:"number"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),i("v-uni-view",[i("bjx-form-item",{attrs:{label:"项目","label-right":"right",prop:"item"}},[i("v-uni-radio-group",{staticStyle:{"vertical-align":"middle"},on:{change:function(e){e=t.$handleEvent(e),t.radioChange(e)}},model:{value:t.form.item,callback:function(e){t.$set(t.form,"item",e)},expression:"form.item"}},[i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{value:"男单"}}),t._v("男单")],1),i("v-uni-label",{staticClass:"radio",staticStyle:{"margin-left":"20upx"}},[i("v-uni-radio",{attrs:{value:"女单"}}),t._v("女单")],1)],1)],1)],1),i("v-uni-button",{staticStyle:{width:"150upx","margin-left":"300upx","margin-top":"50upx","background-color":"#56ABC5",color:"#fff"},attrs:{size:"mini"},on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}},[t._v("提交")])],1)},r=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})},"868a":function(t,e,i){"use strict";var n=i("f54b"),r=i.n(n);r.a},ab18:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("7f7f");var r=n(i("688e")),a=n(i("3624")),l={data:function(){return{form:{name:"",stuClass:"",item:"",number:"",phone:"",qq:""},rules:{name:{required:!0,rule:"type:string|length:~,5"},stuClass:{required:!0,rule:"type:string|length:~,10"},item:{required:!0,msg:"请选择项目"},number:{required:!0,rule:"type:string|length:~,10"},phone:{required:!0,rule:["type:string","length:~,11","reg:^1[34578]\\d{9}$"]},qq:{required:!0,rule:"type:string|length:~,10"}},isRight:!1,aid:""}},onLoad:function(t){this.aid=t.aid},components:{bjxForm:r.default,bjxFormItem:a.default},methods:{submit:function(){var t=this,e=t.form;console.log(e),this.$refs.form.validate(function(e){t.isRight=e}),this.isRight&&this.$api.post("/competition",{aid:t.aid,name:t.form.name,stuClass:t.form.stuClass,item:t.form.item,number:t.form.number,qq:t.form.qq,phone:t.form.phone},function(t){200===t.code?uni.showModal({title:"提示",content:"报名成功",success:function(t){t.confirm?uni.switchTab({url:"./competition"}):t.cancel&&console.log("用户点击取消")}}):20003===t.code?uni.showToast({title:"你已经报名啦",icon:"none"}):uni.showToast({title:"报名失败",icon:"none"})})},radioChange:function(t){this.form.item=t.detail.value}}};e.default=l},b3c7:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".bjx-form-item[data-v-12847897]{font-size:%?30?%;margin-top:%?25?%;margin-left:%?30?%;margin-right:%?30?%;border-bottom:#ccc %?1?% solid}.bjx-form-item .label-block .item-label[data-v-12847897]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:%?10?%}.bjx-form-item .label-block .item-label .label-con[data-v-12847897]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.bjx-form-item .label-block .item-label .right[data-v-12847897]{float:right}.bjx-form-item .label-inline[data-v-12847897]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.bjx-form-item .label-inline .item-label[data-v-12847897]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:%?10?%}.bjx-form-item .label-inline .item-con[data-v-12847897]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.bjx-form-item .item-msg[data-v-12847897]{padding:2px;margin-bottom:5px;font-size:14px;color:#f56c6c;min-height:20px}.bjx-form-item .item-required[data-v-12847897]{color:#f56c6c}",""])},bbe7:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.fromCheck=void 0,i("28a5"),i("3b2b"),i("6762"),i("2fdb"),i("c5f6");var r=n(i("cebc")),a=n(i("fe34")),l=(0,r.default)({},a.default,{type:function(t,e){var i={string:"字符串",boolean:"布尔值",objec:"对象"};if("number"==e[0]){if(""==t||isNaN(Number(t)))return"不是一个数字"}else if(typeof t!=e[0])return i[e[0]]?"不是"+i[e[0]]:"数据类型不符合";return!0},max:function(t,e){var i=this.type(t,["number"]);return!0!==i?i:!(t>e[0])||"值不能超过"+e[0]},min:function(t,e){var i=this.type(t,["number"]);return!0!==i?i:!(t.length<e[0])||"值不能小于"+e[0]},length:function(t,e){if(e.length>1){if("~"==e[1].trim()&&t.length<e[0])return"长度不能小于"+e[0];if("~"==e[0].trim()&&t.length>e[1])return"长度不能超过"+e[1];if(t.length<e[0]||t.length>e[1])return"长度应在"+e[0]+"~"+e[1]+"之间"}else if(t.length!=e[0])return"长度应等于"+e[0];return!0},between:function(t,e){if(e.length>1){if(Number(t)<Number(e[0])||Number(t)>Number(e[1]))return"应在"+e[0]+"~"+e[1]+"之间"}else if(t!=e[0])return"应等于"+e[0];return!0},in:function(t,e){return!!e.includes(t)||"应该在"+e.join()+"之中"},eq:function(t,e,i){return!i[e[0]]||t==i[e[0]]||"与"+e[0]+"不相等"},reg:function(t,e){var i=new RegExp(e);return!!i.test(t)||"不符合正则"},date:function(t){return new Date(t).getDate()==t.substring(t.length-2)||"不是一个有效的日期"}});function o(t,e){return t.split?t.split(e):t}var u=function(t,e,i){e=o(e,"|");for(var n=e.length,r=0;r<n;++r){var a="",u="";if(0==e[r].indexOf("reg")?(a="reg",u=e[r].slice(e[r].indexOf(":")+1)):(e[r]=o(e[r],":"),a=e[r][0].trim(),u=e[r][1]?o(e[r][1],","):[]),l[a]){var s=l[a](t,u,i);if(!0!==s)return s}}return!0};e.fromCheck=u},c893:function(t,e,i){"use strict";i.r(e);var n=i("ab18"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=r.a},ed24:function(t,e,i){"use strict";i.r(e);var n=i("8584"),r=i("c893");for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);var l=i("2877"),o=Object(l["a"])(r["default"],n["a"],n["b"],!1,null,"496864e0",null);e["default"]=o.exports},f54b:function(t,e,i){var n=i("b3c7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("2f78aae0",n,!0,{sourceMap:!1,shadowMode:!1})},fe34:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={phone:function(t){return!(t&&!/^1[3|4|5|6|7|8][0-9]\d{8,8}$/.test(t))||"请填写正确的手机号码"}};e.default=n}}]);